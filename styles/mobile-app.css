/*
 * Mobile App Styles - Full Mobile Redesign
 * Applied ONLY on screens < 768px (md breakpoint)
 * Does NOT affect desktop or tablet layouts
 * 
 * Strategy: Override specific desktop styles for mobile
 * to create a native app-like experience
 */

/* ─── Base Mobile Reset ───────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Prevent horizontal overflow */
  body, #root { overflow-x: hidden; }

  /* Prevent iOS zoom on input focus */
  input, textarea, select { font-size: 16px !important; }

  /* Hide scrollbars for cleaner look */
  ::-webkit-scrollbar { display: none !important; }
  * { scrollbar-width: none !important; }

  /* Better touch targets */
  button { min-height: 36px; }

  /* Smooth horizontal scroll */
  .overflow-x-auto { -webkit-overflow-scrolling: touch; }
}

/* ─── Dashboard Mobile ────────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Main container: remove large padding */
  .dashboard-container {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  /* Welcome text: compact */
  .dashboard-welcome h1 {
    font-size: 1.25rem !important;
    line-height: 1.5rem !important;
  }

  /* Analytics cards: 2 columns */
  .analytics-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.5rem !important;
  }

  /* Analytics card: compact height */
  .analytics-card {
    height: 80px !important;
  }

  /* Chart: smaller height */
  .chart-area {
    height: 150px !important;
  }

  /* Pie charts: smaller */
  .pie-chart-area {
    height: 160px !important;
  }

  /* Workspace gallery: 2 columns */
  .workspace-gallery-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.5rem !important;
  }

  /* Workspace card: compact */
  .workspace-gallery-card {
    min-height: 120px !important;
    padding: 0.75rem !important;
  }

  /* Cards with large border-radius: reduce on mobile */
  .rounded-\[32px\] {
    border-radius: 1rem !important;
  }

  /* Large shadows: reduce on mobile */
  .shadow-\[0px_8px_0px_\#0f172a\] {
    box-shadow: 2px 2px 0px #0f172a !important;
  }

  /* Large borders: reduce on mobile */
  .border-\[3px\] {
    border-width: 2px !important;
  }

  /* Large padding: reduce on mobile */
  .p-6 { padding: 0.75rem !important; }
  .p-8 { padding: 1rem !important; }
  .px-6 { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
  .px-8 { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
  .px-10 { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
  .py-8 { padding-top: 0.75rem !important; padding-bottom: 0.75rem !important; }

  /* Large gaps: reduce on mobile */
  .gap-8 { gap: 0.75rem !important; }
  .gap-6 { gap: 0.5rem !important; }

  /* Large margins: reduce on mobile */
  .mb-8 { margin-bottom: 0.75rem !important; }
  .mb-6 { margin-bottom: 0.5rem !important; }
  .mt-8 { margin-top: 0.75rem !important; }
  .mt-6 { margin-top: 0.5rem !important; }

  /* Large text: reduce on mobile */
  .text-5xl { font-size: 1.75rem !important; line-height: 2rem !important; }
  .text-4xl { font-size: 1.5rem !important; line-height: 1.75rem !important; }
  .text-3xl { font-size: 1.25rem !important; line-height: 1.5rem !important; }
  .text-2xl { font-size: 1.125rem !important; line-height: 1.375rem !important; }
  .text-xl { font-size: 1rem !important; line-height: 1.25rem !important; }

  /* Min heights: reduce on mobile */
  .min-h-\[300px\] { min-height: 150px !important; }
  .min-h-\[220px\] { min-height: 120px !important; }
  .min-h-\[240px\] { min-height: 140px !important; }
  .min-h-\[180px\] { min-height: 100px !important; }

  /* Fixed heights: reduce on mobile */
  .h-\[300px\] { height: 160px !important; }
  .h-\[250px\] { height: 140px !important; }
  .h-\[200px\] { height: 120px !important; }
  .h-\[180px\] { height: 120px !important; }
}

/* ─── Content Plan Mobile ─────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Workspace cards: single column with compact layout */
  .workspace-card-grid {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.5rem !important;
  }
}

/* ─── Calendar Mobile ─────────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Calendar grid: smaller cells */
  .calendar-grid {
    grid-auto-rows: minmax(55px, 1fr) !important;
  }

  /* Day header: smaller text */
  .calendar-day-header {
    font-size: 0.5rem !important;
    padding: 0.25rem !important;
  }
}

/* ─── Approval Mobile ─────────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Approval cards: single column */
  .approval-cards-grid {
    grid-template-columns: 1fr !important;
  }
}

/* ─── Content Flow Mobile ─────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Kanban columns: narrower for horizontal scroll */
  .kanban-col {
    min-width: 220px !important;
    max-width: 260px !important;
  }
}

/* ─── Messages Mobile ─────────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Chat input: prevent iOS zoom */
  .chat-input-field {
    font-size: 16px !important;
  }
}

/* ─── Content Data Insight Mobile ────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Metric cards: 2 columns */
  .metric-cards-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* ─── Team KPI Mobile ─────────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* KPI member cards: 2 columns */
  .kpi-members-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* ─── Modal Mobile ────────────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Modals: bottom sheet style */
  .modal-overlay {
    align-items: flex-end !important;
  }

  .modal-box {
    border-radius: 1.5rem 1.5rem 0 0 !important;
    max-height: 90vh !important;
    overflow-y: auto !important;
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
  }
}

/* ─── Table Mobile ────────────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Tables: horizontal scroll */
  table {
    min-width: 500px;
  }

  .table-container {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
  }
}

/* ─── Filter Buttons Mobile ───────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Filter rows: horizontal scroll */
  .filter-row {
    overflow-x: auto !important;
    flex-wrap: nowrap !important;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 0.25rem;
  }

  .filter-btn {
    flex-shrink: 0 !important;
    white-space: nowrap !important;
  }
}

/* ─── Page Headers Mobile ─────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Page headers: compact */
  .page-header {
    padding-bottom: 0.75rem !important;
    margin-bottom: 0.75rem !important;
  }

  .page-title {
    font-size: 1.125rem !important;
    line-height: 1.375rem !important;
  }

  .page-subtitle {
    font-size: 0.75rem !important;
    line-height: 1rem !important;
  }
}

/* ─── Card Shadows Mobile ─────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Reduce heavy shadows on mobile */
  .shadow-hard {
    box-shadow: 2px 2px 0px 0px #1E293B !important;
  }

  .shadow-\[4px_4px_0px_0px_\#0f172a\] {
    box-shadow: 2px 2px 0px 0px #0f172a !important;
  }

  .shadow-\[8px_8px_0px_0px_\#0f172a\] {
    box-shadow: 2px 2px 0px 0px #0f172a !important;
  }

  .shadow-\[12px_12px_0px_0px_\#0f172a\] {
    box-shadow: 2px 2px 0px 0px #0f172a !important;
  }
}

/* ─── Hover Effects Mobile ────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Disable hover translate on mobile (touch devices) */
  .hover\:-translate-y-2:hover { transform: none !important; }
  .hover\:-translate-y-1:hover { transform: none !important; }
  .hover\:shadow-hard:hover { box-shadow: 2px 2px 0px 0px #1E293B !important; }
}

/* ─── Sticky Headers Mobile ───────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Sticky headers: reduce padding */
  .sticky-header {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }
}

/* ─── Bottom Safe Area ────────────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Add bottom padding for bottom nav - ensures content is not hidden behind bottom menu */
  .main-content {
    padding-bottom: 6rem !important;
  }

  /* Extra padding for pages with floating action buttons */
  main {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  /* Ensure pb-32 class works correctly on mobile */
  .pb-32 {
    padding-bottom: 8rem !important;
  }
}

/* ─── Top Safe Area (Status Bar / Notch) ──────────────────────────────────── */
@media (max-width: 767px) {
  /* Main app container: add padding-top for status bar on mobile */
  .mobile-safe-top {
    padding-top: env(safe-area-inset-top, 0px);
  }

  /* Fallback for browsers that don't support env() */
  @supports not (padding-top: env(safe-area-inset-top)) {
    .mobile-safe-top {
      padding-top: 20px; /* Default status bar height */
    }
  }
}

/* ─── Mobile Notification Page ────────────────────────────────────────────── */
@media (max-width: 767px) {
  /* Notification inbox full-screen page */
  .mobile-notif-page {
    position: fixed;
    inset: 0;
    z-index: 60;
    background: var(--background);
    display: flex;
    flex-direction: column;
  }

  /* Safe area padding for notch devices */
  .pt-safe {
    padding-top: max(0.75rem, env(safe-area-inset-top));
  }

  .pb-safe {
    padding-bottom: max(0.75rem, env(safe-area-inset-bottom));
  }
}
