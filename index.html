<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Aruneeka Content Planner Pro</title>

  <!-- PWA Meta Tags -->
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="ContentFlow" />
  <meta name="theme-color" content="#8B5CF6" />

  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json" />

  <!-- Apple Touch Icons -->
  <link rel="apple-touch-icon" href="/icon-192.png" />
  <link rel="apple-touch-icon" sizes="152x152" href="/icon-192.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/icon-192.png" />
  <link rel="apple-touch-icon" sizes="167x167" href="/icon-192.png" />

  <!-- Suppress Tailwind CDN Warning & Cloudflare Optimization Fix -->
  <script>
    // Suppress the "should not be used in production" warning from Tailwind CDN
    // content: "cdn.tailwindcss.com should not be used in production..."
    const originalWarn = console.warn;
    console.warn = (...args) => {
      if (args[0] && typeof args[0] === 'string' && args[0].includes('cdn.tailwindcss.com')) return;
      originalWarn.apply(console, args);
    };
  </script>

  <!-- Tailwind CSS (Pinned Version + No Cloudflare Async) -->
  <script src="https://cdn.tailwindcss.com/3.4.1" data-cfasync="false"></script>

  <!-- Google Fonts: Outfit (Headings) & Plus Jakarta Sans (Body) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap"
    rel="stylesheet">
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <style>
    html,
    body,
    #root {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    :root,
    .theme-light,
    html.theme-light {
      --background: #FFFDF5;
      --foreground: #1E293B;
      --muted: #F1F5F9;
      --muted-foreground: #64748B;
      --accent: #8B5CF6;
      --accent-foreground: #FFFFFF;
      --secondary: #F472B6;
      --border: #E2E8F0;
      --card: #FFFFFF;
      --dot-color: #CBD5E1;
    }

    .theme-dark,
    html.theme-dark {
      --background: #0f172a;
      --foreground: #f1f5f9;
      --card: #1e293b;
      --border: #475569;
      --muted: #1e293b;
      --muted-foreground: #94a3b8;
      --dot-color: #334155;
    }

    .theme-midnight,
    html.theme-midnight {
      --background: #0c1130;
      --foreground: #c7d2fe;
      --card: #1e1b4b;
      --border: #3730a3;
      --muted: #1e1b4b;
      --muted-foreground: #818cf8;
      --dot-color: #312e81;
    }

    .theme-pastel,
    html.theme-pastel {
      --background: #fdf2f8;
      --foreground: #1E293B;
      --card: #FFFFFF;
      --border: #f9a8d4;
      --dot-color: #fce7f3;
    }

    body {
      font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
      background-color: var(--background);
      color: var(--foreground);
      transition: background-color 0.2s ease, color 0.2s ease;
      touch-action: pan-x pan-y;
      -webkit-font-smoothing: antialiased;
    }

    /* Apply zoom ONLY on desktop. Using zoom on mobile Safari breaks 'fixed bottom-0' */
    @media (min-width: 768px) {
      body {
        zoom: 0.9;
      }
    }

    /* Mobile safe area support with fallback */
    .pb-safe {
      padding-bottom: max(env(safe-area-inset-bottom), 8px);
    }

    .pt-safe {
      padding-top: max(env(safe-area-inset-top), 8px);
    }

    .mobile-safe-top-spacer {
      height: env(safe-area-inset-top, 24px);
      flex-shrink: 0;
    }

    /* Fallback for standalone/PWA on Android where safe-area is 0 but status bar covers content */
    @supports (padding-top: env(safe-area-inset-top)) {
      @media all and (display-mode: standalone) {
        .mobile-safe-top-spacer {
          height: max(env(safe-area-inset-top), 36px);
        }
      }
    }

    /* Mobile touch improvements */
    @media (max-width: 767px) {
      * {
        -webkit-tap-highlight-color: transparent;
      }

      button,
      a {
        touch-action: manipulation;
      }

      /* Prevent iOS zoom on input focus */
      input[type="text"],
      input[type="email"],
      input[type="password"],
      input[type="number"],
      input[type="search"],
      textarea,
      select {
        font-size: 16px !important;
      }

      /* Hide scrollbars on mobile for cleaner look */
      ::-webkit-scrollbar {
        display: none !important;
      }

      * {
        scrollbar-width: none !important;
      }

      /* Prevent horizontal overflow */
      body {
        overflow-x: hidden;
      }

      /* Compact text sizes on mobile */
      .text-4xl {
        font-size: 1.5rem !important;
        line-height: 2rem !important;
      }

      .text-3xl {
        font-size: 1.25rem !important;
        line-height: 1.75rem !important;
      }

      .text-2xl {
        font-size: 1.125rem !important;
        line-height: 1.5rem !important;
      }

      /* Compact padding on mobile */
      .px-10 {
        padding-left: 0.75rem !important;
        padding-right: 0.75rem !important;
      }

      .px-8 {
        padding-left: 0.75rem !important;
        padding-right: 0.75rem !important;
      }

      /* Better touch targets */
      button {
        min-height: 36px;
      }

      /* Smooth horizontal scroll */
      .overflow-x-auto {
        -webkit-overflow-scrolling: touch;
      }

      /* Compact text sizes */
      .text-5xl {
        font-size: 1.75rem !important;
        line-height: 2rem !important;
      }

      .text-4xl {
        font-size: 1.5rem !important;
        line-height: 1.75rem !important;
      }

      .text-3xl {
        font-size: 1.25rem !important;
        line-height: 1.5rem !important;
      }

      .text-2xl {
        font-size: 1.125rem !important;
        line-height: 1.375rem !important;
      }

      /* Reduce heavy shadows */
      .shadow-\[0px_8px_0px_\#0f172a\] {
        box-shadow: 2px 2px 0px #0f172a !important;
      }

      .shadow-\[4px_4px_0px_0px_\#0f172a\] {
        box-shadow: 2px 2px 0px 0px #0f172a !important;
      }

      .shadow-\[8px_8px_0px_0px_\#0f172a\] {
        box-shadow: 2px 2px 0px 0px #0f172a !important;
      }

      .shadow-\[12px_12px_0px_0px_\#0f172a\] {
        box-shadow: 2px 2px 0px 0px #0f172a !important;
      }

      /* Reduce large border-radius */
      .rounded-\[32px\] {
        border-radius: 1rem !important;
      }

      /* Reduce large borders */
      .border-\[3px\] {
        border-width: 2px !important;
      }

      .border-4 {
        border-width: 2px !important;
      }

      /* Reduce large padding */
      .p-6 {
        padding: 0.75rem !important;
      }

      .p-8 {
        padding: 1rem !important;
      }

      .py-8 {
        padding-top: 0.75rem !important;
        padding-bottom: 0.75rem !important;
      }

      .py-6 {
        padding-top: 0.5rem !important;
        padding-bottom: 0.5rem !important;
      }

      /* Reduce large gaps */
      .gap-8 {
        gap: 0.75rem !important;
      }

      .gap-6 {
        gap: 0.5rem !important;
      }

      /* Reduce large margins */
      .mb-8 {
        margin-bottom: 0.75rem !important;
      }

      .mb-6 {
        margin-bottom: 0.5rem !important;
      }

      .mt-8 {
        margin-top: 0.75rem !important;
      }

      .mt-6 {
        margin-top: 0.5rem !important;
      }

      /* Reduce min heights */
      .min-h-\[300px\] {
        min-height: 150px !important;
      }

      .min-h-\[220px\] {
        min-height: 120px !important;
      }

      .min-h-\[240px\] {
        min-height: 140px !important;
      }

      /* Reduce fixed heights for charts */
      .h-\[300px\] {
        height: 160px !important;
      }

      .h-\[250px\] {
        height: 140px !important;
      }

      /* Disable hover translate on touch devices */
      .hover\:-translate-y-2:hover {
        transform: none !important;
      }

      .hover\:-translate-y-1:hover {
        transform: none !important;
      }

    }

    /* Override min-h-screen and h-screen to use percentages for zoom compatibility */
    .min-h-screen {
      min-height: 100% !important;
    }

    .h-screen {
      height: 100% !important;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-family: 'Outfit', system-ui, sans-serif;
    }

    /* Dot Grid Background Pattern */
    .bg-dot-grid {
      background-image: radial-gradient(var(--dot-color) 1px, transparent 1px);
      background-size: 24px 24px;
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }

    ::-webkit-scrollbar-track {
      background: #F1F5F9;
    }

    ::-webkit-scrollbar-thumb {
      background: #CBD5E1;
      border-radius: 5px;
      border: 2px solid #F1F5F9;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #94A3B8;
    }

    /* Hide Scrollbar Utility */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      /* IE and Edge */
      scrollbar-width: none;
      /* Firefox */
    }
  </style>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            background: 'var(--background)',
            foreground: 'var(--foreground)',
            muted: 'var(--muted)',
            mutedForeground: 'var(--muted-foreground)',
            accent: 'var(--accent)',
            accentForeground: 'var(--accent-foreground)',
            secondary: 'var(--secondary)',
            tertiary: '#FBBF24',
            quaternary: '#34D399',
            border: 'var(--border)',
            card: 'var(--card)',
          },
          boxShadow: {
            'hard': '4px 4px 0px 0px #1E293B',
            'hard-hover': '6px 6px 0px 0px #1E293B',
            'hard-active': '2px 2px 0px 0px #1E293B',
          },
          animation: {
            'bounce-in': 'bounceIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)',
          },
          keyframes: {
            bounceIn: {
              '0%': { opacity: 0, transform: 'scale(0.8)' },
              '100%': { opacity: 1, transform: 'scale(1)' },
            }
          }
        }
      }
    };
  </script>

  <!-- Theme Glitch Fix: Apply theme before body renders -->
  <script>
    (function () {
      try {
        const theme = localStorage.getItem('app_ui_theme');
        if (theme && theme !== 'light') {
          document.documentElement.classList.add('theme-' + theme);
        }
      } catch (e) { }
    })();
  </script>

  <!-- PWA & iOS Web App Configuration -->
  <!-- For manifest with icons, will be set dynamically by Layout.tsx -->
  <link rel="manifest" href="/manifest.json">

  <!-- iOS Web App Meta Tags (Apple Home Screen Support) -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Aruneeka">

  <!-- Apple Touch Icon (192x192) - Will be updated dynamically by Layout.tsx -->
  <!-- Default fallback: Purple square with Aruneeka monogram -->
  <link id="apple-touch-icon-link" rel="apple-touch-icon"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'%3E%3Crect fill='%238B5CF6' width='192' height='192'/%3E%3Ctext x='50%' y='50%' font-family='system-ui,sans-serif' font-size='80' font-weight='900' fill='white' text-anchor='middle' dominant-baseline='middle'%3EAR%3C/text%3E%3C/svg%3E">

  <!-- Theme color for browser UI (Android) & status bar (iOS) -->
  <meta name="theme-color" content="#8B5CF6">
  <meta name="msapplication-TileColor" content="#8B5CF6">

  <!-- Additional iOS support -->
  <meta name="application-name" content="Aruneeka">
  <meta name="apple-mobile-web-app-capable" content="yes">
</head>

<body class="bg-background text-foreground bg-dot-grid min-h-screen overflow-x-hidden">
  <div id="root"></div>
  <!-- Entry Point Script: Critical for loading the App -->
  <script type="module" src="/index.tsx"></script>
</body>

</html>